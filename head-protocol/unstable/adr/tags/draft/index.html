<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">4 posts tagged with &quot;Draft&quot; | Hydra: Head Protocol</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://input-output-hk.github.io/head-protocol/unstable/adr/tags/draft"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="4 posts tagged with &quot;Draft&quot; | Hydra: Head Protocol"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/head-protocol/unstable/img/hydra.png"><link data-rh="true" rel="canonical" href="https://input-output-hk.github.io/head-protocol/unstable/adr/tags/draft"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/unstable/adr/tags/draft" hreflang="en"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/unstable/fr/adr/tags/draft" hreflang="fr"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/unstable/ja/adr/tags/draft" hreflang="ja"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/unstable/es/adr/tags/draft" hreflang="es"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/head-protocol/unstable/adr/tags/draft" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YZTAF8IOVB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/head-protocol/unstable/adr/rss.xml" title="Hydra: Head Protocol RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/head-protocol/unstable/adr/atom.xml" title="Hydra: Head Protocol Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Hydra: Head Protocol" href="/head-protocol/unstable/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/head-protocol/unstable/monthly/rss.xml" title="Hydra: Head Protocol RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/head-protocol/unstable/monthly/atom.xml" title="Hydra: Head Protocol Atom Feed">







<script src="https://plausible.io/js/script.js" defer="defer" data-domain="hydra.family"></script><link rel="stylesheet" href="/head-protocol/unstable/assets/css/styles.e2304069.css">
<link rel="preload" href="/head-protocol/unstable/assets/js/runtime~main.9aa57279.js" as="script">
<link rel="preload" href="/head-protocol/unstable/assets/js/main.c6fe520e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/head-protocol/unstable/"><div class="navbar__logo"><img src="/head-protocol/unstable/img/hydra.png" alt="Hydra: Head Protocol" class="themedImage_ToTc themedImage--light_HNdA"><img src="/head-protocol/unstable/img/hydra-white.png" alt="Hydra: Head Protocol" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hydra: Head Protocol</b></a><a class="navbar__item navbar__link" href="/head-protocol/unstable/docs/getting-started">User Manual</a><a class="navbar__item navbar__link" href="/head-protocol/unstable/api-reference">API Reference</a><a class="navbar__item navbar__link" href="/head-protocol/unstable/core-concepts">Core Concepts</a><a class="navbar__item navbar__link" href="/head-protocol/unstable/benchmarks">Benchmarks</a><a class="navbar__item navbar__link" href="/head-protocol/unstable/topologies">Topologies</a><a class="navbar__item navbar__link" href="/head-protocol/unstable/use-cases">Use Cases</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/input-output-hk/hydra" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/head-protocol/unstable/adr/tags/draft" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/head-protocol/unstable/fr/adr/tags/draft" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/head-protocol/unstable/ja/adr/tags/draft" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/head-protocol/unstable/es/adr/tags/draft" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Architectural Decision Records</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/1">1. Record Architecture Decisions
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/2">2. Reactive Core
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/3">3. Asynchronous Duplex Client API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/4">4. Use Handle to model Effects
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/5">5. Use io-classes
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/6">6. Network Broadcasts all messages
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/7">7. Use with-pattern based component interfaces
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/8">8. Custom Prelude
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/9">9. Simplify Logging
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/10">10. Use Direct Connection to `cardano-node`
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/11">11. Use cardano-api
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/12">12. Top-down Test-driven Design
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/13">13. Plutus Contracts Testing Strategy
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/14">14. Token usage in Hydra Scripts
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/15">15. Configuration Through an Admin API
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/16">16. Keep Rejected ADRs
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/17">17. Use UDP protocol for Hydra networking
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/18">18. Single state in Hydra.Node.
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/19">19. Use of reference scripts
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/20">20. Handling time
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/21">21. Bounded transaction validity on Hydra protocol transactions
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/22">22. Test High-level Properties using Model-Based Testing
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/23">23. Local chain state in chain layer
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/24">24. Persist state changes incrementally
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/25">25. Event-sourced, resource-based API
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/27">27. Network failures model
</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/head-protocol/unstable/adr/26">26. Stateless transaction observaion &amp; construction
</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>4 posts tagged with &quot;Draft&quot;</h1><a href="/head-protocol/unstable/adr/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/head-protocol/unstable/adr/15">15. Configuration Through an Admin API
</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-03-17T00:00:00.000Z" itemprop="datePublished">March 17, 2022</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h2><p>Draft</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h2><ul><li>Hydra-node currently requires a whole slew of command-line arguments to configure properly its networking layer: <code>--peer</code> to connect to each peer, <code>--cardano-verification-key</code> and <code>--hydra-verification-key</code> to identify the peer on the L1 and L2 respectively.</li><li>This poses significant challenges for operating a <em>cluster</em> of Hydra nodes as one needs to know beforehand everything about the cluster, then pass a large number of arguments to some program or docker-compose file, before any node can be started<ul><li>This is a pain that&#x27;s been felt first-hand for benchmarking and testing purpose</li></ul></li><li>Having static network configuration is probably not sustainable in the long run, even if we don&#x27;t add any fancy multihead capabilities to the node, as it would make it significantly harder to have automated creation of Heads.</li><li>There&#x27;s been an <a href="https://github.com/input-output-hk/hydra/pull/222" target="_blank" rel="noopener noreferrer">attempt</a> at providing a file-based network configuration but this was deemed unconvincing</li><li><a href="https://eprint.iacr.org/2020/299.pdf" target="_blank" rel="noopener noreferrer">Hydra paper (sec. 4, p. 13)</a> explicitly assumes the existence of a <em>setup</em> phase<ul><li>This <em>setup</em> is currently left aside, e.g. exchange of keys for setting up multisig and identifying peers. The <a href="https://github.com/input-output-hk/hydra/blob/abailly-iohk/admin-api-adr/hydra-node/exe/hydra-node/Main.hs#L41" target="_blank" rel="noopener noreferrer">hydra-node</a> executable is statically configured and those things are assumed to be known beforehand</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision">Decision<a href="#decision" class="hash-link" aria-label="Direct link to Decision" title="Direct link to Decision">​</a></h2><ul><li>Hydra-node exposes an <em>Administrative API</em> to enable configuration of the Hydra network using &quot;standard&quot; tools<ul><li>API is exposed as a set of HTTP endpoints on some port, consuming and producing JSON data,</li><li>It is documented as part of the User&#x27;s Guide for Hydra Head</li></ul></li><li>This API provides <em>commands</em> and <em>queries</em> to:<ul><li>Add/remove <em>peers</em> providing their address and keys,</li><li>List currently known peers and their connectivity status,</li><li>Start/stop/reset the Hydra network</li></ul></li><li>This API is implemented by a <em>new component</em> accessible through a network port separate from current <em>Client API</em>, that <em>configures</em> the <code>Network</code> component</li></ul><p>The following picture sketches the proposed architectural change:</p><p><img loading="lazy" alt="Architecture change" src="/head-protocol/unstable/assets/images/0015-architecture-change-18873d5f6fa6f8237431a6cfa83a03e3.jpg" width="5351" height="2989" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="qa">Q&amp;A<a href="#qa" class="hash-link" aria-label="Direct link to Q&amp;A" title="Direct link to Q&amp;A">​</a></h2><ul><li><em>Why a REST interface?</em><ul><li>This API is an interface over a specific <em>resource</em> controlled by the Hydra node, namely its knowledge of other peers with which new <em>Head_s can be opened. As such a proper REST interface (_not</em> RPC-in-disguise) seems to make sense here, rather than stream/event-based <a href="/head-protocol/unstable/adr/3">duplex communication channels</a></li><li>We can easily extend such an API with WebSockets to provide notifications (e.g. peers connectivity, setup events...)</li></ul></li><li><em>Why a separate component?</em><ul><li>We could imagine extending the existing <a href="https://github.com/input-output-hk/hydra/blob/9129c7c013fe2cdc77db048a54981e1ace0843b8/hydra-node/src/Hydra/API/Server.hs" target="_blank" rel="noopener noreferrer">APIServer</a> interface with new messages related to this network configuration, however this seems to conflate different responsibilities in a single place: Configuring and managing the Hydra node itself, and configuring, managing, and interacting with the Head itself</li><li>&quot;Physical&quot; separation of endpoints makes it easier to secure a very sensitive part of the node, namely its administration, e.g by ensuring this can only be accessed through a specific network interface, without relying on application level authentication mechanisms</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consequences">Consequences<a href="#consequences" class="hash-link" aria-label="Direct link to Consequences" title="Direct link to Consequences">​</a></h2><ul><li>It&#x27;s easy to deploy Hydra nodes with some standard configuration, then dynamically configure them, thus reducing the hassle of defining and configuring the Hydra network</li><li>It makes it possible to <em>reconfigure</em> a Hydra node with different peers</li><li>The <em>Client API</em> should reflect the state of the network and disable <code>Init</code>ing a head if the network layer is not started<ul><li>In the long run, it should also have its scope reduced to represent only the possible interactions with a <em>Head</em>, moving things related to network connectivity and setup to the Admin API</li><li>In a <em>Managed Head</em> scenario it would even make sense to have another layer of separation between the API to manage the life-cycle of the Head and the API to make transactions within the Head</li></ul></li><li>Operational tools could be built easily on top of the API, for command-line or Web-based configuration</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/head-protocol/unstable/adr/tags/draft">Draft</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/head-protocol/unstable/adr/17">17. Use UDP protocol for Hydra networking
</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-03-28T00:00:00.000Z" itemprop="datePublished">March 28, 2022</time> · <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h2><p>Draft</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h2><p>Current Hydra networking layer is based on <a href="https://github.com/input-output-hk/ouroboros-network/tree/master/ouroboros-network-framework" target="_blank" rel="noopener noreferrer">Ouroboros network framework</a> networking stack which, among other features, provides:</p><ol><li>An abstraction of stream-based duplex communication channels called a <a href="https://github.com/input-output-hk/ouroboros-network/blob/6c15a8093bac34091ad96af2b8b0d1f7fe54b732/ouroboros-network-framework/src/Ouroboros/Network/Snocket.hs" target="_blank" rel="noopener noreferrer">Snocket</a>,</li><li>A Multiplexing connection manager that manages a set of equivalent peers, maintains connectivity, and ensures diffusion of messages to/from all peers,</li><li>Typed protocols for expressing the logic of message exchanges as a form of <em>state machine</em>.</li></ol><p>While it&#x27;s been working mostly fine so far, the abstractions and facilities provided by this network layer are not well suited for Hydra Head networking. Some of the questions and shortcomings are discussed in a document on <a href="/head-protocol/unstable/core-concepts/architecture/networking">Networking Requirements</a>, and as the Hydra Head matures it seems time is ripe for overhauling current network implementation to better suite current and future Hydra Head networks needs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision">Decision<a href="#decision" class="hash-link" aria-label="Direct link to Decision" title="Direct link to Decision">​</a></h2><ul><li>Hydra Head nodes communicate by sending messages to other nodes using <a href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" target="_blank" rel="noopener noreferrer">UDP</a> protocol</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="details">Details<a href="#details" class="hash-link" aria-label="Direct link to Details" title="Direct link to Details">​</a></h2><ul><li><em>How do nodes know each other?</em>: This is unspecified by this ADR and left for future work, it is assumed that a Hydra node operator knows the IP:Port address of its peers before opening a Head with them</li><li><em>Are messages encrypted?</em>: This should probably be the case in order to ensure Heads&#x27; privacy but is also left for future work</li><li><em>How are nodes identified?</em>: At the moment they are identified by their IP:Port pair. As we implement more of the setup process from section 4 of the Hydra Head paper, we should identify nodes by some public key(hash) and resolve the actual IP:Port pair using some other mechanism</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consequences">Consequences<a href="#consequences" class="hash-link" aria-label="Direct link to Consequences" title="Direct link to Consequences">​</a></h2><ul><li>Node&#x27;s <em>HeadLogic</em> handles lost, duplicates, and out-of-order messages using <em>retry</em> and <em>timeout</em> mechanisms</li><li>Messages should carry a unique identifier, eg. source node and index</li><li>Protocol, eg. messages format, is documented</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/head-protocol/unstable/adr/tags/draft">Draft</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/head-protocol/unstable/adr/25">25. Event-sourced, resource-based API
</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-08-18T00:00:00.000Z" itemprop="datePublished">August 18, 2023</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h2><p>Draft</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h2><ul><li><p><a href="/head-protocol/unstable/adr/3">ADR-3</a> concluded that a full-duplex communication channels are
desirable to interact with a <em>reactive</em> system.</p></li><li><p>The Client API communicates several types of messages to clients. Currently
this ranges from node-level <code>PeerConnected</code>, over head-specific <code>HeadIsOpen</code>
to messages about transactions like <code>TxValid</code>. These messages are all of type
<code>StateChanged</code>.</p></li><li><p>Current capabilities of the API:</p><ul><li><p>Clients can retrieve the whole history of <code>StateChanged</code> messages or
opt-out using a query parameter - all or nothing.</p></li><li><p>There is a welcome message called <code>Greetings</code> which is always sent, that
contains the last <code>headStatus</code>.</p></li><li><p>There exists a <code>GetUTxO</code> query-like <code>ClientInput</code>, which will respond with a
<code>GetUTxOResponse</code> containing the confirmed UTxO set in an open head, or (!)
the currently committed UTxO set when the head is initializing.</p></li><li><p>While overall <code>json</code> encoded, clients can choose choose between <code>json</code> or
binary (<code>cbor</code>) output of <code>transaction</code> fields in several of these using a
query parameter.</p></li></ul></li><li><p>Many of these features have been added in a &quot;quick and dirty&quot; way, by monkey
patching the encoded JSON.</p></li><li><p>The current capabalities even do not satisfy all user needs:</p><ul><li><p>Need to wade through lots of events to know the latest state (except the
very basic <code>headStatus</code> from the <code>Greetings</code>).</p></li><li><p>Need to poll <code>GetUTxO</code> <em>or</em> aggregate confirmed transactions on client side
to know the latest UTxO set for constructing transactions.</p></li><li><p>Inclusion of the whole UTxO set in the head is not always desirable and
filtering by address would be beneficial. (not addressed in this ADR though,
relevant discussion
<a href="https://github.com/input-output-hk/hydra/discussions/797" target="_blank" rel="noopener noreferrer">#797</a>)</p></li><li><p>As <a href="/head-protocol/unstable/adr/15">ADR-15</a> also proposes, some clients may not need (or should
not have) access to administrative information.</p></li></ul></li><li><p>It is often a good idea to separate the responsibilities of Commands and
Queries (<a href="https://martinfowler.com/bliki/CQRS.html" target="_blank" rel="noopener noreferrer">CQRS</a>), as well as the model they use.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision">Decision<a href="#decision" class="hash-link" aria-label="Direct link to Decision" title="Direct link to Decision">​</a></h2><ul><li><p>Drop <code>GetUTxO</code> and <code>GetUTxOResponse</code> messages as they advocate a
request/response way of querying.</p></li><li><p>Realize that <code>ClientInput</code> data is actually a <code>ClientCommand</code> (renaming them)
and that <code>ServerOutput</code> are just <code>projections</code> of the <a href="/head-protocol/unstable/adr/24">internal event stream
(see ADR-24)</a> into read <code>models</code> on the API layer.</p></li><li><p>Compose a versioned (<code>/v1</code>) API out of resource <code>models</code>, which
compartmentalize the domain into topics on the API layer.</p><ul><li><p>A resource has a <code>model</code> type and the <em>latest</em> value is the result of a pure
<code>projection</code> folded over the <code>StateChanged</code> event stream, i.e. <code>project :: model -&gt; StateChanged -&gt; model</code>.</p></li><li><p>Each resource is available at some HTTP path, also called &quot;endpoint&quot;:</p><ul><li><p><code>GET</code> requests must respond with the <em>latest</em> state in a single response.</p></li><li><p><code>GET</code> requests with <code>Upgrade: websocket</code> headers must start a websocket
connection, push the <em>latest</em> state as first message and any resource
state updates after.</p></li><li><p>Other HTTP verbs may be accepted by a resource handler, i.e. to issue
resource-specific <em>commands</em>. Any commands accepted must also be available
via the corresponding websocket connection.</p></li></ul></li><li><p><code>Accept</code> request headers can be used to configure the <code>Content-Type</code> of the
response</p><ul><li><p>All resources must provide <code>application/json</code> responses</p></li><li><p>Some resources might support more content types (e.g. CBOR-encoded binary)</p></li></ul></li><li><p>Query parameters may be used to further configure responses of some
resources. For example, <code>?address=&lt;bech32&gt;</code> could be used to filter UTxO by
some address.</p></li></ul></li><li><p>Keep the semantics of <code>/</code>, which accepts websocket upgrade connections and
sends direct/raw output of <code>ServerOutput</code> events on <code>/</code>, while accepting all
<code>ClientCommand</code> messages.</p><ul><li>Define <code>ServerOutput</code> also in terms of the <code>StateChanged</code> event stream</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-resources">Example resources<a href="#example-resources" class="hash-link" aria-label="Direct link to Example resources" title="Direct link to Example resources">​</a></h3><p>Example resource paths + HTTP verbs mapped to existing things to demonstrate the
effects of the decision points above. The mappings may change and are to be
documented by an API specification instead.</p><table><thead><tr><th align="left">Path</th><th align="left">GET</th><th align="left">POST</th><th>PATCH</th><th align="left">DELETE</th></tr></thead><tbody><tr><td align="left"><code>/v1/head/status</code></td><td align="left"><code>HeadStatus(..)</code></td><td align="left">-</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/head/snapshot/utxo</code></td><td align="left">last confirmed snapshot utxo</td><td align="left">-</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/head/snapshot/transactions</code></td><td align="left">confirmed snapshot txs</td><td align="left"><code>NewTx</code> + responses</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/head/ledger/utxo</code></td><td align="left"><code>localUTxO</code></td><td align="left">-</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/head/ledger/transactions</code></td><td align="left"><code>localTxs</code></td><td align="left"><code>NewTx</code> + responses</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/head/commit</code></td><td align="left">-</td><td align="left"><code>Chain{draftCommitTx}</code></td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/head</code></td><td align="left">all <code>/v1/head/*</code> data</td><td align="left"><code>Init</code></td><td><code>Close</code></td><td align="left"><code>Fanout</code> / <code>Abort</code></td></tr><tr><td align="left"><code>/v1/protocol-parameters</code></td><td align="left">current protocol parameters</td><td align="left"></td><td></td><td align="left"></td></tr><tr><td align="left"><code>/v1/cardano-transaction</code></td><td align="left">-</td><td align="left"><code>Chain{submitTx}</code></td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/peers</code></td><td align="left">a list of peers</td><td align="left">-</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/node-version</code></td><td align="left">node version as in <code>Greetings</code></td><td align="left">-</td><td>-</td><td align="left">-</td></tr><tr><td align="left"><code>/v1/</code></td><td align="left">all <code>/v1/*</code> data</td><td align="left">-</td><td>-</td><td align="left">-</td></tr></tbody></table><p>Multiple heads are out of scope now and hence paths are not including a
<code>&lt;headId&gt;</code> variable section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consequences">Consequences<a href="#consequences" class="hash-link" aria-label="Direct link to Consequences" title="Direct link to Consequences">​</a></h2><ul><li><p>Clear separation of what types are used for querying and gets subscribed to by
clients and we have dedicated types for sending data to clients</p></li><li><p>Changes on the querying side of the API are separated from the business logic.</p></li><li><p>Clients do not need to aggregate data that is already available on the server
side without coupling the API to internal state representation.</p></li><li><p>Separation of Head operation and Head usage, e.g. some HTTP endpoints can be
operated with authentication.</p></li><li><p>Clients have a fine-grained control over what to subscribe to and what to
query.</p></li><li><p>Versioned API allows clients to detect incompatibility easily.</p></li><li><p>Need to rewrite how the <code>hydra-tui</code> is implemented.</p></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/head-protocol/unstable/adr/tags/draft">Draft</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/head-protocol/unstable/adr/26">26. Stateless transaction observaion &amp; construction
</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-08T00:00:00.000Z" itemprop="datePublished">September 8, 2023</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="#status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h2><p>Draft</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h2><ul><li><p><a href="/head-protocol/unstable/adr/18">ADR 18</a> merged both <code>headState</code> and <code>chainState</code> into one single
state in the Hydra node, giving the chain layer a way to <em>fetch</em> and update
the <code>chainState</code> when observing a chain event.</p></li><li><p><a href="/head-protocol/unstable/adr/23">ADR 23</a> outlined the need for a local chain state in the chain layer
again to correctly handle correct observation of multiple relevant
transactions and the resulting <code>chainState</code> updates.</p></li><li><p>The <code>ChainStateType tx</code> for our &quot;actual&quot; Cardano chain layer is currently:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ChainStateAt</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ChainStateAt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token hvariable">chainState</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">::</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ChainState</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token hvariable">recordedAt</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">::</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Maybe</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ChainPoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ChainState</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Idle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Initial</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">InitialState</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Open</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OpenState</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Closed</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ClosedState</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where <code>InitialState</code>, <code>OpenState</code> and <code>ClosedState</code> hold elaborate information
about the currently tracked Hydra head.</p></li><li><p>We face <a href="https://github.com/input-output-hk/hydra/issues/529" target="_blank" rel="noopener noreferrer">difficulties</a> to
provide sufficient user feedback when an <code>initTx</code> was observed but (for
example) keys do not match our expectation.</p><ul><li>Core problem is, that <code>observeInit</code> is required to take a decision whether
it wants to &quot;adopt&quot; the Head by returning an <code>InitialState</code> or not.</li><li>This makes it impossible to provide user feedback through the <code>HeadLogic</code>
and <code>API</code> layers.</li></ul></li><li><p>We want to build a <a href="https://github.com/input-output-hk/hydra/issues/696" target="_blank" rel="noopener noreferrer">Hydra head
explorer</a>, which should
be able to keep track and discover Hydra heads and their state changes even
when the heads were initialized before starting the explorer.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision">Decision<a href="#decision" class="hash-link" aria-label="Direct link to Decision" title="Direct link to Decision">​</a></h2><ul><li>We supersede <a href="/head-protocol/unstable/adr/18">ADR 18</a> with the current ADR.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-internal-to-direct-chain-layer">Changes internal to Direct chain layer<a href="#changes-internal-to-direct-chain-layer" class="hash-link" aria-label="Direct link to Changes internal to Direct chain layer" title="Direct link to Changes internal to Direct chain layer">​</a></h3><ul><li><p>Introduce a <code>ResolvedTx</code> type that has its inputs resolved. Where a normal
<code>Tx</code> will only contain <code>TxIn</code> information of its inputs, a <code>ResolvedTx</code> also
includes the <code>TxOut</code> for each input.</p></li><li><p>Change <code>ChainSyncHandler</code> signature to <code>onRollForward :: BlockHeader -&gt; [ResolvedTx] -&gt; m ()</code></p></li><li><p>Change observing function signature to <code>observeSomeTx :: ChainContext -&gt;
ResolvedTx -&gt; Maybe (OnChainTx Tx)</code>. Notably there is no <code>ChainState</code>
involved.</p></li><li><p>Do not guard observation by <code>HeadId</code> in the chain layer and instead do it in the <code>HeadLogic</code> layer.</p></li><li><p>Define a <code>SpendableUTxO</code> type that is a <code>UTxO</code> with potentially needed datums included.</p><ul><li>TBD: instead we could decide to use inline datums and rely on <code>UTxO</code> containing them</li></ul></li><li><p>Change transaction creation functions <code>initialize</code>, <code>commit</code>, <code>abort</code>,
<code>collect</code>, <code>close</code>, <code>contest</code> and <code>fanout</code> in <code>Hydra.Direct.Chain.State</code> to
take <code>SpendableUTxO</code> and <code>HeadId</code>/<code>HeadParameters</code> as needed.</p></li><li><p>Extend <code>IsChainState</code> type class to enforce that it can be updated by
concurrent transactions <code>update :: ChainStateType tx -&gt; [tx] -&gt; ChainStateType tx</code>.</p><ul><li>While this is not strictly needed &quot;outside&quot; of the chain layer, it will have
us not fall into the same pit again.</li></ul></li><li><p>Change <code>ChainStateAt</code> to only hold a <code>spendableUTxO</code> and the <code>recordedAt</code>.</p></li><li><p>Update the <code>LocalChainState</code> in <code>onRollForward</code> by using <code>update</code> and pushing
a new <code>ChainStateAt</code> generically.</p></li></ul><p>TBD:</p><ul><li>Impact on generators</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chain-interface-changes">Chain interface changes<a href="#chain-interface-changes" class="hash-link" aria-label="Direct link to Chain interface changes" title="Direct link to Chain interface changes">​</a></h3><ul><li><p>Add <code>HeadId</code> and <code>HeadParameters</code> to <code>PostChainTx</code>.</p></li><li><p>Add <code>HeadId</code> to all <code>OnChainTx</code> constructors.</p></li><li><p>Extend <code>OnInitTx</code> with observed chain participants.</p><ul><li>TBD: How are <em>cardano</em> verification keys generically represented in <code>HeadLogic</code>?</li></ul></li><li><p>Extend <code>OnContestTx</code> with new deadline and a list of contesters.</p></li><li><p>Move off-chain checks for what makes a &quot;proper head&quot; to <code>HeadLogic</code></p></li></ul><p>TBD:</p><ul><li>Merge <code>HeadSeed</code> and <code>HeadId</code>? How to abstract?</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consequences">Consequences<a href="#consequences" class="hash-link" aria-label="Direct link to Consequences" title="Direct link to Consequences">​</a></h2><ul><li><p>All logic is kept in the logic layer and no protocol decisions (i.e. whether
to adopt or ignore a head initialization) are taken in the chain layer.</p><ul><li>The <code>HeadLogic</code> gets informed of any proper <code>initTx</code> and can log that it is
ignored and for what reason.</li></ul></li><li><p>The transaction observation and construction functions can be moved into a
dedicated package that is cardano-specific, but not requires special state
knowledge of the &quot;direct chain following&quot; and can be re-used as a library.</p></li><li><p>All transaction observation functions used by <code>observeSomeTx</code> will need to be
able to identify a Hydra Head transaction from only the <code>ResolvedTx</code> and the
<code>ChainContext</code></p></li><li><p>Any <code>Chain Tx</code> implementation wanting to re-use existing transaction
observation functions must be able to resolve transaction inputs (against some
ledger state) and produce <code>ResolvedTx</code>.</p><ul><li>A chain-following implementation (as <code>Hydra.Chain.Direct</code>) can keep previous
transactions around.</li><li>A chain indexer on &quot;interesting&quot; protocol addresses can be used to
efficiently query most inputs.</li></ul></li><li><p>We can get rid of the <code>Hydra.Chain.Direct.State</code> glue code altogether.</p></li><li><p>While this does not directly supersede <a href="/head-protocol/unstable/adr/23">ADR23</a>, it paves the way to
remove <code>LocalChainState</code> again as the <code>ChainStateAt</code> is now combinable from
multiple transactions (see <code>update</code> above) and we can keep the state (again)
only in the <code>HeadState</code> aggregate. Note that this would shift the rollback
handling back into the logic layer.</p></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/head-protocol/unstable/adr/tags/draft">Draft</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/wiki/Coding-Standards" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding Standards</a></li><li class="footer__item"><a class="footer__link-item" href="/head-protocol/unstable/adr">Architectural Decision Records</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/wiki/Testing-Strategy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testing Strategy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/Qq5vNTg9PT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord (#ask-hydra)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cardano.stackexchange.com/questions/tagged/hydra" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Exchange<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/head-protocol/unstable/docs/haskell_packages">Haskell Packages</a></li><li class="footer__item"><a class="footer__link-item" href="/head-protocol/unstable/monthly">Monthly reports</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/wiki/Logbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">Logbook</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; Conditions</a></li><li class="footer__item"><a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/hydra/graphs/contributors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributors</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
          <small>
          Built with Docusaurus on 2023-09-05T18:35:51+02:00
          </small>
          </div></div></div></footer></div>
<script src="/head-protocol/unstable/assets/js/runtime~main.9aa57279.js"></script>
<script src="/head-protocol/unstable/assets/js/main.c6fe520e.js"></script>
</body>
</html>